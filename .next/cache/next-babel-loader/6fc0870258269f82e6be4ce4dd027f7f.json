{"ast":null,"code":"import model from '../../database/model/model';\nexport default ((req, res) => {\n  model.getInitialPageLoad((err, results) => {\n    if (err) {\n      console.log('error in controller');\n      res.status(400);\n      res.end();\n    } else {\n      res.end(JSON.stringify(results));\n    }\n  });\n});\nexport const config = {\n  api: {\n    externalResolver: true\n  }\n};","map":{"version":3,"sources":["/Users/derekvelzy/shadetree/pages/api/topUsers.ts"],"names":["model","req","res","getInitialPageLoad","err","results","console","log","status","end","JSON","stringify","config","api","externalResolver"],"mappings":"AACA,OAAOA,KAAP,MAA8C,4BAA9C;AAGA,gBAAe,CAACC,GAAD,EAAsBC,GAAtB,KAA+C;AAC5DF,EAAAA,KAAK,CAACG,kBAAN,CAAyB,CAACC,GAAD,EAAoBC,OAApB,KAAkD;AACzE,QAAID,GAAJ,EAAS;AACPE,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAL,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX;AACAN,MAAAA,GAAG,CAACO,GAAJ;AACD,KAJD,MAIO;AACLP,MAAAA,GAAG,CAACO,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAAR;AACD;AACF,GARD;AASD,CAVD;AAYA,OAAO,MAAMO,MAAM,GAAG;AACpBC,EAAAA,GAAG,EAAE;AACHC,IAAAA,gBAAgB,EAAE;AADf;AADe,CAAf","sourcesContent":["import type { NextApiRequest, NextApiResponse } from 'next'\nimport model, { Top, Service, Combined } from '../../database/model/model';\nimport db from '../../database/connect/db';\n\nexport default (req: NextApiRequest, res: NextApiResponse) => {\n  model.getInitialPageLoad((err: Error | null, results?: Combined | null) => {\n    if (err) {\n      console.log('error in controller');\n      res.status(400);\n      res.end()\n    } else {\n      res.end(JSON.stringify(results));\n    }\n  })\n}\n\nexport const config = {\n  api: {\n    externalResolver: true,\n  },\n}"]},"metadata":{},"sourceType":"module"}